<!DOCTYPE html PUBLIC
        "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- (c) Copyright 2016 SailPoint Technologies, Inc., All Rights Reserved. -->

<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:sp="http://sailpoint.com/ui"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:c="http://java.sun.com/jstl/core"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:t="http://myfaces.apache.org/tomahawk">
<body>


<ui:composition>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyAINinHSMi1pUMLz3SyNtraGexa2yaHK3A"></script>

    <sp:style
            serveOffset="#{base.requestContextPath}/#{pluginFramework.pluginFolderName}/#{pluginFramework.uniqueName}/ui/css">
        <!--<src>ng-modalDialog.css?#{debug.revision}</src>-->
    </sp:style>

    <div id="hello"></div>
    <h1> TEST!!!!! </h1>
        <!--<title>IP Address geocoding on Google Maps</title>-->
    <sp:script enabled="false"
               serveOffset="#{base.requestContextPath}/#{pluginFramework.pluginFolderName}/#{pluginFramework.uniqueName}/ui/js">
        <src>ipmapper.js</src>
        <src>queryMap.js</src>
        </sp:script>


    <h2> did this render? </h2>
        <script type="text/javascript">
            $(function(){
                try{
                    IPMapper.initializeMap("map");
                    IPMapper.addIPMarker("111.111.111.111");
                } catch(e){
                    console.log(e);
                }
            });
        </script>

    <input id="ip" name="ip" type="text" />
    <button onclick="IPMapper.addIPMarker($('#ip').val());">Geocode</button>
    <div id="map" style="height: 600px;"></div>

    <!--</script>-->
    <!--<sp:script enabled="false"-->
               <!--serveOffset="#{base.requestContextPath}/#{pluginFramework.pluginFolderName}/#{pluginFramework.uniqueName}/ui/js">-->

     <!--<src>ipmapper.js</src>-->
    <!-- this works as well ^^^  -->
    <!--</sp:script>-->
    <!-- </sp:script> -->


</ui:composition>


</body>
</html>



<!--<h3>Client side IP geolocation using <a href="http://ipinfo.io">ipinfo.io</a></h3>-->

<!--<hr/>-->
<!--<div id="ip"></div>-->
<!--<div id="address"></div>-->
<!--<div id="LatLng"></div>-->
<!--<hr/>Full response: <pre id="details"></pre>-->

<!--<script src="http://code.jquery.com/jquery-1.9.1.js"></script>-->

<!--<script>-->
<!--$.get("http://ipinfo.io", function (response) {-->
    <!--$("#ip").html("IP: " + response.ip);-->
    <!--$("#address").html("Location: " + response.city + ", " + response.region);-->
    <!--$("#details").html(JSON.stringify(response, null, 4));-->
    <!--var lo = response.loc.split(',')-->
    <!--$("#LatLng").html("Lat: " + lo[0] + " Lng: " + lo[1]);-->
<!--}, "jsonp");-->

<!--</script>-->


<!--<div>-->

<!--<h1>-->
    <!--here is a map-->
<!--</h1>-->

<!--</div>-->

<!--<script type="text/javascript">-->
<!--function getJSessionId(){-->
    <!--var jsessionId = '${cookie.JSESSIONID.value}';-->
    <!--// var session_id = /SESS\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;-->
    <!--// var jsId = document.cookie.match(/JSESSIONID=[^;]+/);-->
    <!--// if(jsId != null) {-->
    <!--//     if (jsId instanceof Array)-->
    <!--//         jsId = jsId[0].substring(11);-->
    <!--//     else-->
    <!--//         jsId = jsId.substring(11);-->
    <!--// }-->
    <!--alert(jsessionId+ " is sesh");-->
<!--}-->
<!--</script>-->

<!--<button onclick="getJSessionId()">Click me</button>-->